<header class="bg-white sticky top-0 z-50 shadow-sm font-lato">
  <div class="max-w-[1120px] mx-auto px-4 md:px-10 py-2 flex items-center justify-between">
    <!-- Logo -->
    <a href="/" class="cursor-pointer flex-shrink-0">
      <img 
        src="{{ 'logo-header.png' | asset_url }}" 
        alt="Léger LAB" 
        class="w-[80px] object-contain"
        width="80"
        height="auto"
      />
    </a>

    <!-- Desktop Nav -->
    <nav class="hidden lg:flex items-center gap-6">
      {% for link in linklists.main-menu.links %}
        <div class="relative group">
          {% if link.links != blank %}
            <button class="flex items-center gap-1 text-[14px] font-normal text-brand-strong hover:text-brand-text transition-all desktop-dropdown-trigger">
              {{ link.title }}
              <span class="text-[10px]">▼</span>
            </button>
            <!-- Dropdown -->
            <div class="absolute top-full left-0 bg-white shadow-lg rounded-lg py-2 min-w-[150px] transition-all duration-200 opacity-0 invisible translate-y-2 group-hover:opacity-100 group-hover:visible group-hover:translate-y-0">
              {% for child_link in link.links %}
                <a href="{{ child_link.url }}" class="block w-full text-left px-4 py-2 text-[14px] text-brand-strong hover:bg-brand-soft">
                  {{ child_link.title }}
                </a>
              {% endfor %}
            </div>
          {% else %}
            <a href="{{ link.url }}" class="flex items-center gap-1 text-[14px] font-normal text-brand-strong hover:text-brand-text transition-all">
              {{ link.title }}
            </a>
          {% endif %}
        </div>
      {% endfor %}
    </nav>

    <!-- Mobile Toggle -->
    <button 
      class="lg:hidden flex flex-col gap-[5px] p-2"
      aria-label="Menu"
      onclick="document.getElementById('mobile-menu').classList.remove('translate-x-full'); document.getElementById('mobile-menu-overlay').classList.remove('hidden');"
    >
      <span class="block w-[33px] h-[4px] bg-brand-strong rounded-[3px]"></span>
      <span class="block w-[33px] h-[4px] bg-brand-strong rounded-[3px]"></span>
      <span class="block w-[33px] h-[4px] bg-brand-strong rounded-[3px]"></span>
    </button>
  </div>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="lg:hidden fixed top-0 right-0 h-screen bg-white w-[300px] shadow-2xl transform transition-transform duration-300 z-50 translate-x-full">
    <div class="flex justify-end p-4">
       <button id="close-mobile-menu" class="text-2xl text-brand-strong" onclick="document.getElementById('mobile-menu').classList.add('translate-x-full'); document.getElementById('mobile-menu-overlay').classList.add('hidden');">&times;</button>
    </div>
    <nav class="flex flex-col gap-4 p-6">
      {% for link in linklists.main-menu.links %}
        <div class="border-b border-gray-100 pb-2">
          {% if link.links != blank %}
            <button class="flex w-full justify-between items-center text-left text-[16px] text-brand-strong font-normal mobile-dropdown-trigger" onclick="this.nextElementSibling.classList.toggle('hidden');">
              {{ link.title }}
              <span class="arrow-icon">▼</span>
            </button>
            <div class="pl-4 mt-2 flex flex-col gap-2 hidden">
              {% for child_link in link.links %}
                <a href="{{ child_link.url }}" class="text-left text-[14px] text-brand-text">
                  {{ child_link.title }}
                </a>
              {% endfor %}
            </div>
          {% else %}
            <a href="{{ link.url }}" class="flex w-full justify-between items-center text-left text-[16px] text-brand-strong font-normal">
              {{ link.title }}
            </a>
          {% endif %}
        </div>
      {% endfor %}
    </nav>
  </div>
  <div id="mobile-menu-overlay" class="fixed inset-0 bg-black/20 z-40 lg:hidden hidden"></div>
</header>

{% schema %}
{
  "name": "Header",
  "settings": []
}
{% endschema %}
